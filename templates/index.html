<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ app_name }} - Athletic Training & Nutrition Platform</title>
    
    <!-- Preload critical fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/static/css/main.css">
    
    <!-- Meta tags for mobile -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="description" content="AI-powered athletic training and nutrition platform for triathlon, marathon, and fitness goals.">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="/" class="logo">
                    <img src="/static/images/atarax-logo.png" alt="{{ app_name }}" class="logo-image">
                    <span class="logo-text">{{ app_name }}</span>
                </a>
                <nav class="nav" id="main-nav">
                    <a href="#dashboard" class="nav-link">Dashboard</a>
                    <a href="#goals" class="nav-link">Goals</a>
                    <a href="#training" class="nav-link">Training</a>
                    <a href="#nutrition" class="nav-link">Nutrition</a>
                    <a href="#profile" class="nav-link">Profile</a>
                    <button class="btn btn-primary" id="auth-btn">Login</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="app">
        <!-- Loading state -->
        <div id="loading" class="container text-center" style="padding: 4rem 0;">
            <div class="spinner" style="width: 40px; height: 40px; margin: 0 auto 1rem;"></div>
            <p>Loading {{ app_name }}...</p>
        </div>

        <!-- Authentication Modal -->
        <div id="auth-modal" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div class="card" style="width: 100%; max-width: 400px; margin: 1rem;">
                <div class="card-header">
                    <h3 class="card-title" id="auth-title">Welcome to {{ app_name }}</h3>
                    <p class="card-subtitle">Sign in to start your athletic journey</p>
                </div>
                
                <!-- Login Form -->
                <form id="login-form">
                    <div class="form-group">
                        <label class="form-label" for="username">Username</label>
                        <input type="text" id="username" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-input" required>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="btn btn-primary flex-1">Sign In</button>
                        <button type="button" class="btn btn-outline flex-1" id="show-register">Register</button>
                    </div>
                </form>

                <!-- Register Form -->
                <form id="register-form" class="hidden">
                    <div class="form-group">
                        <label class="form-label" for="reg-email">Email</label>
                        <input type="email" id="reg-email" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-username">Username</label>
                        <input type="text" id="reg-username" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-password">Password</label>
                        <input type="password" id="reg-password" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-name">Display Name</label>
                        <input type="text" id="reg-name" class="form-input" placeholder="How you'd like to be addressed">
                    </div>
                    
                    <div class="flex gap-4">
                        <button type="submit" class="btn btn-primary flex-1">Create Account</button>
                        <button type="button" class="btn btn-outline flex-1" id="show-login">Back to Login</button>
                    </div>
                </form>
                
                <button id="close-auth" class="btn btn-sm btn-outline" style="position: absolute; top: 1rem; right: 1rem;">×</button>
            </div>
        </div>

        <!-- Dashboard -->
        <section id="dashboard-section" class="dashboard hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Welcome back, <span id="user-name">Athlete</span>!</h1>
                    <p class="text-gray-600">Track your progress and achieve your athletic goals</p>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="card stat-card">
                        <div class="stat-value" id="days-to-goal">--</div>
                        <div class="stat-label">Days to Goal</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="workouts-completed">--</div>
                        <div class="stat-label">Workouts Completed</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="current-phase">--</div>
                        <div class="stat-label">Current Phase</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="progress-percent">--%</div>
                        <div class="stat-label">Progress</div>
                    </div>
                </div>

                <!-- Motivational Quote Section -->
                <div id="motivational-quote-section" class="motivational-quote hidden">
                    <div class="quote-container">
                        <div class="quote-text" id="quote-text">Loading inspirational quote...</div>
                        <div class="quote-author" id="quote-author">- Anonymous</div>
                    </div>
                </div>

                <!-- Training Timeline (visible when there's an active goal) -->
                <div id="dashboard-timeline" class="training-timeline hidden">
                    <div class="timeline-header">
                        <h3 class="timeline-title" id="dashboard-timeline-title">Training Plan Timeline</h3>
                        <p class="timeline-subtitle" id="dashboard-timeline-subtitle">Track your progress through the training phases</p>
                    </div>
                    
                    <div class="timeline-container">
                        <!-- Top markers (You Are Here only) -->
                        <div class="timeline-markers-top">
                            <div class="timeline-marker current">
                                <div class="timeline-marker-label">You are Here</div>
                                <div class="timeline-marker-dot"></div>
                            </div>
                        </div>
                        
                        <!-- Timeline track -->
                        <div class="timeline-track">
                            <div class="timeline-phases" id="dashboard-timeline-phases">
                                <!-- Phases will be dynamically inserted here -->
                            </div>
                        </div>
                        
                        <!-- Bottom markers with phase end dates -->
                        <div class="timeline-markers-bottom">
                            <!-- Phase end dates will be dynamically inserted here -->
                        </div>
                    </div>
                </div>

                <!-- Current Goal -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Current Goal</h3>
                        </div>
                        <div id="current-goal">
                            <p class="text-gray-600">No active goal. <a href="#goals" class="text-primary">Create your first goal!</a></p>
                        </div>
                    </div>

                    <!-- Today's Workout -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Today's Workout</h3>
                        </div>
                        <div id="todays-workout">
                            <p class="text-gray-600">No workout scheduled for today.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Goals Section -->
        <section id="goals-section" class="dashboard hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Athletic Goals</h1>
                    <p class="text-gray-600">Set and track your training objectives</p>
                    <button class="btn btn-primary" id="create-goal-btn">Create New Goal</button>
                </div>

                <div id="goals-list" class="grid gap-6">
                    <!-- Goals will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Goal Creation Form -->
        <div id="goal-modal" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; display: none !important; align-items: center; justify-content: center;">
            <div class="card" style="width: 100%; max-width: 600px; margin: 1rem; max-height: 90vh; overflow-y: auto;">
                <div class="card-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div>
                        <h3 class="card-title">Create Your Fitness Goal</h3>
                        <p class="card-subtitle">Tell us about your target and we'll create a personalized training plan</p>
                    </div>
                    <button type="button" class="btn btn-outline" id="close-goal-modal-x" style="padding: 0.5rem 0.75rem; font-size: 1.5rem; line-height: 1; margin-left: 1rem;">&times;</button>
                </div>
                
                <form id="goal-form">
                    <div class="form-group">
                        <label class="form-label" for="goal-title">Goal Title</label>
                        <input type="text" id="goal-title" class="form-input" placeholder="e.g., June 2026 Triathlon or Lose 20 pounds" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="goal-type">Goal Type</label>
                        <select id="goal-type" class="form-input form-select" required>
                            <option value="">Select your goal type...</option>
                            <option value="triathlon">Triathlon</option>
                            <option value="marathon">Marathon</option>
                            <option value="half_marathon">Half Marathon</option>
                            <option value="10k">10K Race</option>
                            <option value="5k">5K Race</option>
                            <option value="cycling">Cycling</option>
                            <option value="century_ride">Century Ride (100 miles)</option>
                            <option value="weight_loss">Weight Loss</option>
                            <option value="muscle_gain">Muscle Gain</option>
                            <option value="strength_training">Strength Training</option>
                            <option value="general_fitness">General Fitness</option>
                            <option value="obstacle_race">Obstacle Race</option>
                            <option value="ironman">Ironman</option>
                            <option value="custom">Custom Goal</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="goal-description">Description</label>
                        <textarea id="goal-description" class="form-input form-textarea" placeholder="Describe your goal and motivation..."></textarea>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="form-group">
                            <label class="form-label" for="event-date">Target Date (optional)</label>
                            <input type="date" id="event-date" class="form-input">
                            <small class="text-sm text-gray-500">Leave blank for general fitness goals</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="event-location">Event Location (optional)</label>
                            <input type="text" id="event-location" class="form-input" placeholder="City, State">
                        </div>
                    </div>

                    <!-- Goal-specific fields (shown/hidden based on goal type) -->
                    <div id="race-distances" class="hidden">
                        <div class="card-header">
                            <h4>Race Distances</h4>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="form-group" id="swim-distance-group">
                                <label class="form-label" for="swim-distance">Swim (meters)</label>
                                <input type="number" id="swim-distance" class="form-input" value="750">
                            </div>
                            <div class="form-group" id="bike-distance-group">
                                <label class="form-label" for="bike-distance">Bike (miles)</label>
                                <input type="number" id="bike-distance" class="form-input" value="14.3" step="0.1">
                            </div>
                            <div class="form-group" id="run-distance-group">
                                <label class="form-label" for="run-distance">Run (miles)</label>
                                <input type="number" id="run-distance" class="form-input" value="3.1" step="0.1">
                            </div>
                        </div>
                    </div>

                    <div id="weight-goals" class="hidden">
                        <div class="card-header">
                            <h4>Weight Goals</h4>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="form-group">
                                <label class="form-label" for="starting-weight">Starting Weight (lbs)</label>
                                <input type="number" id="starting-weight" class="form-input" step="0.1">
                                <small class="text-sm text-gray-500">Current weight for weight management goals</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="target-weight">Target Weight (lbs)</label>
                                <input type="number" id="target-weight" class="form-input" step="0.1">
                            </div>
                        </div>
                    </div>

                    <div id="strength-goals" class="hidden">
                        <div class="card-header">
                            <h4>Strength Goals</h4>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="form-group">
                                <label class="form-label" for="target-bench">Bench Press Goal (lbs)</label>
                                <input type="number" id="target-bench" class="form-input">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="target-squat">Squat Goal (lbs)</label>
                                <input type="number" id="target-squat" class="form-input">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="target-deadlift">Deadlift Goal (lbs)</label>
                                <input type="number" id="target-deadlift" class="form-input">
                            </div>
                        </div>
                    </div>

                    <div class="card-header">
                        <h4>Current Fitness Assessment</h4>
                        <p class="text-sm text-gray-600">Help us understand your starting point for personalized training</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="fitness-assessment">Describe Your Current Fitness Level</label>
                        <textarea id="fitness-assessment" class="form-input form-textarea" 
                                  placeholder="e.g., Can run 1.5 miles before walking, swim 200m, bike 5 miles, workout 2x/week" 
                                  required></textarea>
                        <small class="text-sm text-gray-500">Be specific about distances, times, and frequency you can currently handle</small>
                    </div>
                    
                    <div class="flex gap-4">
                        <button type="submit" class="btn btn-primary flex-1">Create Goal & AI Training Plan</button>
                        <button type="button" class="btn btn-outline" id="close-goal-modal">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Training Section -->
        <section id="training-section" class="dashboard hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Training Plans</h1>
                    <p class="text-gray-600">Your AI-generated training plans and workouts</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Training Plans -->
                    <div class="lg:col-span-2">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Your Training Plans</h3>
                            </div>
                            <div id="training-plans-list">
                                <p class="text-gray-600">Loading training plans...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Current Week Overview -->
                    <div>
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">This Week's Workouts</h3>
                            </div>
                            <div id="weekly-workouts">
                                <p class="text-gray-600">Loading workouts...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Workout Schedule -->
                <div class="card mt-6">
                    <div class="card-header">
                        <h3 class="card-title">Workout Calendar</h3>
                    </div>
                    <div id="workout-calendar">
                        <p class="text-gray-600">Loading workout calendar...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Nutrition Section -->
        <section id="nutrition-section" class="dashboard hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Nutrition Plans</h1>
                    <p class="text-gray-600">Personalized meal plans and nutrition guidance</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Daily Nutrition -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Today's Nutrition</h3>
                        </div>
                        <div id="daily-nutrition">
                            <p class="text-gray-600">Nutrition plans coming soon! This feature is currently under development.</p>
                        </div>
                    </div>

                    <!-- Meal Plans -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Meal Plans</h3>
                        </div>
                        <div id="meal-plans">
                            <p class="text-gray-600">AI-generated meal plans will be available in a future update.</p>
                        </div>
                    </div>
                </div>

                <!-- Nutrition Goals -->
                <div class="card mt-6">
                    <div class="card-header">
                        <h3 class="card-title">Nutrition Goals</h3>
                    </div>
                    <div id="nutrition-goals">
                        <p class="text-gray-600">Set and track your nutrition goals here.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="dashboard hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Profile Settings</h1>
                    <p class="text-gray-600">Manage your account and preferences</p>
                </div>

                <!-- Athletic Profile Form -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Athletic Profile</h3>
                        <p class="text-gray-600">This information is required to create personalized training plans</p>
                    </div>
                    <form id="profile-form">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="form-group">
                                <label class="form-label" for="profile-birth-date">Birth Date *</label>
                                <input type="date" id="profile-birth-date" class="form-input" required>
                                <small class="text-sm text-gray-500">Used for age-appropriate training zones</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="profile-weight">Current Weight (lbs) *</label>
                                <input type="number" id="profile-weight" class="form-input" step="0.1" placeholder="150" required>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="form-group">
                                <label class="form-label" for="profile-height">Height (inches)</label>
                                <input type="number" id="profile-height" class="form-input" step="0.5" placeholder="68">
                                <small class="text-sm text-gray-500">5'8" = 68 inches (optional if you know your BMI)</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="profile-bmi">BMI (if known)</label>
                                <input type="number" id="profile-bmi" class="form-input" step="0.1" placeholder="22.5">
                                <small class="text-sm text-gray-500">Leave blank if you entered height above</small>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="form-group">
                                <label class="form-label" for="profile-body-type">Body Type</label>
                                <select id="profile-body-type" class="form-input form-select">
                                    <option value="">Select body type...</option>
                                    <option value="slim">Slim/Lean Build</option>
                                    <option value="average">Average Build</option>
                                    <option value="athletic">Athletic Build</option>
                                    <option value="muscular">Muscular Build</option>
                                    <option value="stocky">Stocky Build</option>
                                    <option value="fuller">Fuller Build</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="profile-fitness-level">Training Experience *</label>
                                <select id="profile-fitness-level" class="form-input form-select" required>
                                    <option value="">Select experience...</option>
                                    <option value="beginner">Beginner (0-6 months)</option>
                                    <option value="novice">Novice (6 months - 2 years)</option>
                                    <option value="intermediate">Intermediate (2-5 years)</option>
                                    <option value="advanced">Advanced (5+ years)</option>
                                    <option value="expert">Expert/Competitive</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="profile-medical">Medical Conditions or Injuries</label>
                            <textarea id="profile-medical" class="form-input form-textarea" rows="3" 
                                      placeholder="e.g., Previous knee injury, asthma, heart condition, or 'None'"></textarea>
                            <small class="text-sm text-gray-500">This helps us create safer, more appropriate workouts</small>
                        </div>

                        <div class="flex gap-4">
                            <button type="submit" class="btn btn-primary">Save Profile</button>
                            <button type="button" class="btn btn-outline" id="load-profile-btn">Load Current Profile</button>
                        </div>
                    </form>
                </div>

                <!-- Account Information -->
                <div class="card mt-6">
                    <div class="card-header">
                        <h3 class="card-title">Account Information</h3>
                    </div>
                    <div id="user-account-info">
                        <p class="text-gray-600">Loading account information...</p>
                    </div>
                </div>

                <!-- Account Actions -->
                <div class="card mt-6">
                    <div class="card-header">
                        <h3 class="card-title">Account Actions</h3>
                    </div>
                    <div id="account-actions" class="p-4">
                        <button class="btn btn-danger" onclick="app.logout()">Logout</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workout Detail Modal -->
        <div id="workout-modal" class="workout-modal hidden">
            <div class="workout-modal-content">
                <button class="workout-modal-close" id="close-workout-modal">&times;</button>
                <div class="workout-modal-header">
                    <h3 id="workout-modal-title">Workout Details</h3>
                    <div id="workout-modal-meta" class="workout-meta"></div>
                </div>
                <div class="workout-modal-body">
                    <div class="detail-section" id="workout-description-section">
                        <h4>Description</h4>
                        <div class="detail-content" id="workout-modal-description"></div>
                    </div>
                    <div class="detail-section" id="workout-instructions-section">
                        <h4>Instructions</h4>
                        <div class="detail-content" id="workout-modal-instructions"></div>
                    </div>
                    <div class="detail-section" id="workout-details-section">
                        <h4>Workout Details</h4>
                        <div class="detail-content" id="workout-modal-details"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Generation Progress Modal -->
        <div id="ai-progress-modal" class="workout-modal hidden">
            <div class="workout-modal-content" style="max-width: 400px;">
                <div class="workout-modal-body text-center" style="padding: 2rem;">
                    <div class="spinner" style="width: 50px; height: 50px; margin: 0 auto 1rem;"></div>
                    <h3 style="margin-bottom: 1rem;">AI Creating Your Training Plan</h3>
                    <p style="color: var(--gray-600); margin-bottom: 0;">This may take a few minutes. We're analyzing your goals and fitness level to create a personalized workout plan.</p>
                </div>
            </div>
        </div>

        <!-- Workout Completion Feedback Modal -->
        <div id="workout-completion-modal" class="workout-modal hidden">
            <div class="workout-modal-content" style="max-width: 500px;">
                <button class="workout-modal-close" id="close-completion-modal">&times;</button>
                <div class="workout-modal-header">
                    <h3 id="completion-modal-title">How did your workout go?</h3>
                    <div id="completion-modal-meta" class="workout-meta"></div>
                </div>
                <div class="workout-modal-body">
                    <form id="workout-completion-form">
                        <input type="hidden" id="completion-workout-id">
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            <div class="form-group">
                                <label class="form-label" for="perceived-exertion">Difficulty (1-10)</label>
                                <select id="perceived-exertion" class="form-input form-select" required>
                                    <option value="">Select...</option>
                                    <option value="1">1 - Very Easy</option>
                                    <option value="2">2 - Easy</option>
                                    <option value="3">3 - Light</option>
                                    <option value="4">4 - Moderate</option>
                                    <option value="5">5 - Moderate+</option>
                                    <option value="6">6 - Hard</option>
                                    <option value="7">7 - Very Hard</option>
                                    <option value="8">8 - Extremely Hard</option>
                                    <option value="9">9 - Maximum</option>
                                    <option value="10">10 - Could not finish</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="energy-level">Energy Level (1-10)</label>
                                <select id="energy-level" class="form-input form-select" required>
                                    <option value="">Select...</option>
                                    <option value="1">1 - Exhausted</option>
                                    <option value="2">2 - Very Low</option>
                                    <option value="3">3 - Low</option>
                                    <option value="4">4 - Below Average</option>
                                    <option value="5">5 - Average</option>
                                    <option value="6">6 - Good</option>
                                    <option value="7">7 - High</option>
                                    <option value="8">8 - Very High</option>
                                    <option value="9">9 - Excellent</option>
                                    <option value="10">10 - Peak Energy</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="enjoyment-level">Enjoyment (1-10)</label>
                                <select id="enjoyment-level" class="form-input form-select" required>
                                    <option value="">Select...</option>
                                    <option value="1">1 - Hated it</option>
                                    <option value="2">2 - Very unpleasant</option>
                                    <option value="3">3 - Unpleasant</option>
                                    <option value="4">4 - Below average</option>
                                    <option value="5">5 - Neutral</option>
                                    <option value="6">6 - Okay</option>
                                    <option value="7">7 - Good</option>
                                    <option value="8">8 - Really enjoyed</option>
                                    <option value="9">9 - Loved it</option>
                                    <option value="10">10 - Amazing!</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div class="form-group">
                                <label class="form-label" for="actual-duration">Actual Duration (minutes)</label>
                                <input type="number" id="actual-duration" class="form-input" min="1" max="300">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="weather-conditions">Weather/Environment</label>
                                <select id="weather-conditions" class="form-input form-select">
                                    <option value="">Select...</option>
                                    <option value="Perfect">Perfect conditions</option>
                                    <option value="Hot">Hot weather</option>
                                    <option value="Cold">Cold weather</option>
                                    <option value="Windy">Windy conditions</option>
                                    <option value="Rainy">Rainy weather</option>
                                    <option value="Indoor">Indoor workout</option>
                                    <option value="Gym">Gym environment</option>
                                    <option value="Pool">Pool conditions</option>
                                    <option value="Other">Other conditions</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group mb-4">
                            <label class="form-label" for="workout-notes">Comments & Feedback</label>
                            <textarea id="workout-notes" class="form-input form-textarea" rows="3" 
                                placeholder="How did you feel? Any challenges or achievements? Equipment issues? Suggestions for future workouts?"></textarea>
                        </div>

                        <div class="flex gap-4">
                            <button type="submit" class="btn btn-primary flex-1">Complete Workout</button>
                            <button type="button" class="btn btn-outline" id="cancel-completion">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Notification System -->
        <div id="notification-container" style="position: fixed; top: 20px; right: 20px; z-index: 2000;"></div>

        <!-- Landing Page for Non-Authenticated Users -->
        <section id="landing-section" class="dashboard">
            <div class="container">
                <div class="dashboard-header">
                    <h1>{{ app_name }}</h1>
                    <h2 class="text-xl text-gray-600 mb-8">AI-Powered Athletic Training & Nutrition Platform</h2>
                    <p class="text-lg mb-8">Transform your fitness journey with personalized training plans, nutrition guidance, and progress tracking designed specifically for your goals.</p>
                    <div class="mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                        <p class="text-blue-800"><strong>🔐 Account Required:</strong> Create a free account to access personalized AI training plans for triathlon, marathon, weight loss, strength training, and more!</p>
                    </div>
                    <button class="btn btn-primary btn-lg" id="get-started-btn">Create Free Account & Get Started</button>
                </div>

                <div class="stats-grid">
                    <div class="card text-center">
                        <h3>🏊‍♂️ Swimming</h3>
                        <p>Progressive swim training with technique focus and endurance building</p>
                    </div>
                    <div class="card text-center">
                        <h3>🚴‍♂️ Cycling</h3>
                        <p>Structured bike workouts for power, endurance, and race preparation</p>
                    </div>
                    <div class="card text-center">
                        <h3>🏃‍♂️ Running</h3>
                        <p>Smart run training that builds from your current fitness level</p>
                    </div>
                    <div class="card text-center">
                        <h3>🥗 Nutrition</h3>
                        <p>Personalized meal plans to fuel your training and recovery</p>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-center mb-6">Perfect for Your Triathlon Goal</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <div class="text-2xl mb-2">📅</div>
                            <h4>Smart Planning</h4>
                            <p class="text-sm text-gray-600">AI-generated training plans based on your event date and current fitness</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">📊</div>
                            <h4>Progress Tracking</h4>
                            <p class="text-sm text-gray-600">Monitor your improvement across all three disciplines</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">📱</div>
                            <h4>Mobile Ready</h4>
                            <p class="text-sm text-gray-600">Access your workouts and plans anywhere, optimized for mobile</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- JavaScript -->
            <script src="/static/js/app.js?v=3.2"></script>
</body>
</html>
